<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevOps Agent - Справка</title>
    <link rel="stylesheet" href="/chat.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-left">
            <a href="/chat" class="nav-link">Чат</a>
            <a href="/settings" class="nav-link">Настройки</a>
            <a href="/servers" class="nav-link">Серверы</a>
            <a href="/help" class="nav-link active">Справка</a>
        </div>
        <div class="nav-right"></div>
    </nav>

    <div class="page-content">
        <div class="container">
            <h1 class="page-title">Справка</h1>

            <div class="card">
                <h2 class="card-title">Что такое DevOps Agent</h2>
                <p>DevOps Agent — это интеллектуальный чат-ассистент на базе ИИ для администрирования серверов и выполнения DevOps-задач. Опишите задачу на естественном языке, и агент предложит конкретные команды и действия для её выполнения.</p>
            </div>

            <div class="card">
                <h2 class="card-title">Как пользоваться чатом</h2>
                <ol>
                    <li>Введите ваш вопрос или описание задачи в поле ввода внизу страницы.</li>
                    <li>ИИ проанализирует запрос и ответит с объяснением и предложенными действиями.</li>
                    <li>Просмотрите предложенные команды перед их выполнением.</li>
                    <li>Нажмите кнопку <strong>Выполнить</strong> на любом действии для запуска на целевом сервере.</li>
                    <li>Результаты появятся в чате — вы можете задать уточняющие вопросы.</li>
                </ol>
            </div>

            <div class="card">
                <h2 class="card-title">Действия (Actions)</h2>
                <p>Когда вы описываете задачу, ИИ формирует список предложенных действий. Каждое действие содержит:</p>
                <ul>
                    <li><strong>Описание</strong> — что делает команда</li>
                    <li><strong>Команда</strong> — конкретная команда для выполнения</li>
                    <li><strong>Сервер</strong> — на каком сервере выполнить</li>
                    <li><strong>Уровень риска</strong> — насколько опасна команда</li>
                </ul>
                <p>Вы можете выполнить действие нажатием кнопки или отклонить его.</p>
            </div>

            <div class="card">
                <h2 class="card-title">Уровни риска</h2>
                <table class="servers-table">
                    <thead>
                        <tr><th>Уровень</th><th>Цвет</th><th>Описание</th></tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="status-online">LOW</span></td>
                            <td>Зелёный</td>
                            <td>Команды только для чтения, не изменяют систему (например, <code>ls</code>, <code>docker ps</code>, <code>cat</code>).</td>
                        </tr>
                        <tr>
                            <td><span class="status-warning">MEDIUM</span></td>
                            <td>Жёлтый</td>
                            <td>Команды, вносящие изменения, но в целом безопасные (например, <code>systemctl restart</code>, <code>docker compose up</code>).</td>
                        </tr>
                        <tr>
                            <td><span class="status-error-text">HIGH</span></td>
                            <td>Красный</td>
                            <td>Потенциально деструктивные команды (например, <code>rm -rf</code>, <code>docker system prune</code>). Проверяйте внимательно!</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="card">
                <h2 class="card-title">Read-only команды</h2>
                <p>Интерфейс автоматически определяет безопасные команды только для чтения. К ним относятся:</p>
                <ul>
                    <li><code>ls</code>, <code>pwd</code>, <code>whoami</code>, <code>id</code>, <code>uname</code>, <code>date</code>, <code>uptime</code></li>
                    <li><code>df</code>, <code>du</code>, <code>free</code></li>
                    <li><code>ip a</code>, <code>ip route</code>, <code>ss</code>, <code>netstat</code></li>
                    <li><code>ping</code>, <code>curl</code>, <code>wget</code></li>
                    <li><code>cat</code>, <code>tail</code>, <code>head</code>, <code>grep</code></li>
                    <li><code>journalctl</code>, <code>systemctl status</code></li>
                    <li><code>docker ps</code>, <code>docker logs</code>, <code>docker inspect</code>, <code>docker compose ps</code></li>
                </ul>
                <p>Команды, не входящие в этот список, помечаются предупреждением: <em>«Это не read-only команда и может изменить систему.»</em></p>
            </div>

            <div class="card">
                <h2 class="card-title">Настройка промпта</h2>
                <p>Вы можете настроить поведение ИИ-ассистента, изменив системный промпт:</p>
                <ol>
                    <li>В чате нажмите кнопку промпта или перейдите в настройки.</li>
                    <li>Откроется модальное окно с текущим системным промптом.</li>
                    <li>Отредактируйте текст и нажмите <strong>Сохранить</strong>.</li>
                </ol>
                <p>Ваш промпт будет использоваться для всех последующих диалогов.</p>
            </div>

            <div class="card">
                <h2 class="card-title">Настройка LLM</h2>
                <p>На странице <a href="/settings">Настройки</a> вы можете:</p>
                <ul>
                    <li>Выбрать LLM-сервер из списка настроенных провайдеров</li>
                    <li>Переопределить модель (если нужна конкретная модель вместо модели по умолчанию)</li>
                    <li>Включить/выключить режим отладки для отображения технических деталей</li>
                    <li>Обновить конфигурацию из файлов без перезапуска приложения</li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>
